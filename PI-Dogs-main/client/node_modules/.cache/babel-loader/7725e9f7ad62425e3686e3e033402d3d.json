{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\Desktop\\\\DOG-PI\\\\PI-Dogs\\\\PI-Dogs-main\\\\client\\\\src\\\\components\\\\CreateDog.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postDog, getTemperaments } from \"../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction validate(input) {\n  let errors = {};\n\n  if (!input.name) {\n    errors.name = \"Name is required\";\n  } else if (!input.min_height) {\n    errors.min_height = \"Min height is required\";\n  } else if (input.min_height <= 0) {\n    errors.min_height = \"Min height should be greater than zero\";\n  } else if (!input.max_height) {\n    errors.max_height = \"Max height is required\";\n  } else if (input.max_height <= 0) {\n    errors.max_height = \"Max height should be greater than zero\";\n  } else if (parseInt(input.min_height) >= parseInt(input.max_height)) {\n    errors.max_height = \"Max height must be greater than Min height\";\n  } else if (!input.min_weight) {\n    errors.min_weight = \"Min weight is required\";\n  } else if (input.min_weight <= 0) {\n    errors.min_weight = \"Min weight should be greater than zero\";\n  } else if (!input.max_weight) {\n    errors.max_weight = \"Max weight is required\";\n  } else if (input.max_weight <= 0) {\n    errors.max_weight = \"Max weight should be greater than zero\";\n  } else if (parseInt(input.min_weight) >= parseInt(input.max_weight)) {\n    errors.max_weight = \"Max weight must be greater than Min weight\";\n  } else if (!input.life_span) {\n    errors.life_span = \"Life span is required\";\n  } else if (input.life_span <= 0) {\n    errors.life_span = \"Life span should be grater than zero\";\n  } else if (input.life_span > 20) {\n    errors.life_span = \"Life span should be smaller than 20\";\n  } else if (!input.image) {\n    errors.image = \"Please insert an image URL\";\n  } else if (!/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)/.test(input.image)) {\n    errors.image = \"Please insert a valid image URL\";\n  }\n\n  return errors;\n}\n\nexport default function CreateDog() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useNavigate();\n  const temperaments = useSelector(state => state.temperaments);\n  const [temps, setTemps] = useState([]);\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    name: \"\",\n    min_height: \"\",\n    max_height: \"\",\n    min_weight: \"\",\n    max_weight: \"\",\n    life_span: \"\",\n    image: \"\",\n    temperament: []\n  });\n  useEffect(() => {\n    dispatch(getTemperaments());\n  }, [dispatch]);\n\n  function handleChange(e) {\n    e.preventDefault();\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n    console.log(input);\n  }\n\n  function handleSelect(e) {\n    if (!temps.includes(e.target.value)) {\n      if (temps.length > 0) {\n        setTemps([...temps, e.target.value]);\n      } else {\n        setTemps([e.target.value]);\n      }\n    }\n\n    console.log(e.target.value);\n  }\n\n  function handleDelete(e) {\n    e.preventDefault();\n    setTemps(temps.filter(temp => temp !== e.target.value));\n    console.log(temps);\n    console.log(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    if (errors.name !== undefined || errors.min_height !== undefined || errors.max_height !== undefined || errors.min_weight !== undefined || errors.max_weight !== undefined || errors.life_span !== undefined) {\n      document.getElementById(\"DoNotSubmit\");\n      return alert(\"Please complete the fields with valid data\");\n    }\n\n    const addDog = {\n      name: input.name,\n      height: input.min_height + \" - \" + input.max_height,\n      weight: input.min_weight + \" - \" + input.max_weight,\n      life_span: input.life_span,\n      image: input.image,\n      temperament: temps\n    };\n    e.preventDefault();\n    dispatch(postDog(addDog));\n    alert(\"Your dog was successfully created!\");\n    setInput({\n      name: \"\",\n      min_height: \"\",\n      max_height: \"\",\n      min_weight: \"\",\n      max_weight: \"\",\n      life_span: \"\",\n      image: \"\",\n      temperament: []\n    });\n    setTemps([]);\n    history.push(\"/home\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Create Your Dog!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"DoNotSubmit\",\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Enter a Name\",\n            type: \"text\",\n            name: \"name\",\n            value: input.name,\n            onChange: e => handleChange(e)\n          }, 'name', false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Height: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => handleChange(e),\n            name: \"min_height\",\n            type: \"min_height\",\n            value: input.min_height,\n            placeholder: \"Min height\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), errors.min_height && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.min_height\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => handleChange(e),\n            name: \"max_height\",\n            type: \"max_height\",\n            value: input.max_height,\n            placeholder: \"Max height\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), errors.max_height && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.max_height\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Weight: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => handleChange(e),\n            name: \"min_weight\",\n            type: \"min_weight\",\n            value: input.min_weight,\n            placeholder: \"Min weight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), errors.min_weight && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.min_weight\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => handleChange(e),\n            name: \"max_weight\",\n            type: \"max_weight\",\n            value: input.max_weight,\n            placeholder: \"Max weight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), errors.max_weight && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.max_weight\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Life Span: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Life Span\",\n            type: \"text\",\n            name: \"life_span\",\n            value: input.life_span,\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this), errors.life_span && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.life_span\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Insert URL image\",\n            type: \"text\",\n            name: \"image\",\n            value: input.image,\n            onChange: e => handleChange(e)\n          }, 'image', false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }, this), errors.image && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Choose Temperaments: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"temperament\",\n            onChange: e => handleSelect(e),\n            type: \"text\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this), temperaments.map((temp, id) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: temp.name,\n                children: temp.name\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), temps.map((temp, id) => {\n            return /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [temp, /*#__PURE__*/_jsxDEV(\"button\", {\n                  value: temp,\n                  onClick: e => handleDelete(e),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 37\n              }, this)\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 33\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            name: \"submit\",\n            children: \"Create Dog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Back \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateDog, \"pOvLqgEQ+5jvXt3aIe4TA4bpgHE=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = CreateDog;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateDog\");","map":{"version":3,"sources":["C:/Users/andre/Desktop/DOG-PI/PI-Dogs/PI-Dogs-main/client/src/components/CreateDog.jsx"],"names":["React","useState","useEffect","Link","useNavigate","useDispatch","useSelector","postDog","getTemperaments","validate","input","errors","name","min_height","max_height","parseInt","min_weight","max_weight","life_span","image","test","CreateDog","dispatch","history","temperaments","state","temps","setTemps","setErrors","setInput","temperament","handleChange","e","preventDefault","target","value","console","log","handleSelect","includes","length","handleDelete","filter","temp","handleSubmit","undefined","document","getElementById","alert","addDog","height","weight","push","map","id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { postDog, getTemperaments } from \"../actions\";\r\n\r\nfunction validate(input) {\r\n    let errors = {};\r\n    if (!input.name) {\r\n        errors.name = \"Name is required\";\r\n    } else if (!input.min_height) {\r\n        errors.min_height = \"Min height is required\";\r\n    } else if (input.min_height <= 0) {\r\n        errors.min_height = \"Min height should be greater than zero\";\r\n    } else if (!input.max_height) {\r\n        errors.max_height = \"Max height is required\";\r\n    } else if (input.max_height <= 0) {\r\n        errors.max_height = \"Max height should be greater than zero\";\r\n    } else if (parseInt(input.min_height) >= parseInt(input.max_height)) {\r\n        errors.max_height = \"Max height must be greater than Min height\";\r\n    } else if (!input.min_weight) {\r\n        errors.min_weight = \"Min weight is required\";\r\n    } else if (input.min_weight <= 0) {\r\n        errors.min_weight = \"Min weight should be greater than zero\";\r\n    } else if (!input.max_weight) {\r\n        errors.max_weight = \"Max weight is required\";\r\n    } else if (input.max_weight <= 0) {\r\n        errors.max_weight = \"Max weight should be greater than zero\";\r\n    } else if (parseInt(input.min_weight) >= parseInt(input.max_weight)) {\r\n        errors.max_weight = \"Max weight must be greater than Min weight\";\r\n    } else if (!input.life_span) {\r\n        errors.life_span = \"Life span is required\";\r\n    } else if (input.life_span <= 0) {\r\n        errors.life_span = \"Life span should be grater than zero\";\r\n    } else if (input.life_span > 20) {\r\n        errors.life_span = \"Life span should be smaller than 20\";\r\n    } else if (!input.image) {\r\n        errors.image = \"Please insert an image URL\";\r\n    } else if (\r\n        !/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)/.test(input.image)\r\n    ) {\r\n        errors.image = \"Please insert a valid image URL\";\r\n    }\r\n    return errors;\r\n}\r\n\r\nexport default function CreateDog() {\r\n    const dispatch = useDispatch();\r\n    const history = useNavigate();\r\n    const temperaments = useSelector((state) => state.temperaments);\r\n    const [temps, setTemps] = useState([]);\r\n    const [errors, setErrors] = useState({});\r\n    const [input, setInput] = useState({\r\n        name: \"\",\r\n        min_height: \"\",\r\n        max_height: \"\",\r\n        min_weight: \"\",\r\n        max_weight: \"\",\r\n        life_span: \"\",\r\n        image: \"\",\r\n        temperament: [],\r\n    });\r\n\r\n    useEffect(() => {\r\n        dispatch(getTemperaments());\r\n    }, [dispatch]);\r\n\r\n    function handleChange(e) {\r\n        e.preventDefault();\r\n        setInput({\r\n            ...input,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n        setErrors(\r\n            validate({\r\n                ...input,\r\n                [e.target.name]: e.target.value,\r\n            })\r\n        );\r\n        console.log(input);\r\n    }\r\n    function handleSelect(e) {\r\n        if (!temps.includes(e.target.value)) {\r\n            if (temps.length > 0) {\r\n                setTemps([...temps, e.target.value]);\r\n            } else {\r\n                setTemps([e.target.value]);\r\n            }\r\n        }\r\n        console.log(e.target.value);\r\n    }\r\n    function handleDelete(e) {\r\n        e.preventDefault();\r\n        setTemps(temps.filter((temp) => temp !== e.target.value));\r\n        console.log(temps);\r\n        console.log(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        if (\r\n            errors.name !== undefined ||\r\n            errors.min_height !== undefined ||\r\n            errors.max_height !== undefined ||\r\n            errors.min_weight !== undefined ||\r\n            errors.max_weight !== undefined ||\r\n            errors.life_span !== undefined\r\n        ) {\r\n            document.getElementById(\"DoNotSubmit\");\r\n            return alert(\"Please complete the fields with valid data\");\r\n        }\r\n        const addDog = {\r\n            name: input.name,\r\n            height: input.min_height + \" - \" + input.max_height,\r\n            weight: input.min_weight + \" - \" + input.max_weight,\r\n            life_span: input.life_span,\r\n            image: input.image,\r\n            temperament: temps,\r\n        };\r\n        e.preventDefault();\r\n        dispatch(postDog(addDog));\r\n        alert(\"Your dog was successfully created!\");\r\n        setInput({\r\n            name: \"\",\r\n            min_height: \"\",\r\n            max_height: \"\",\r\n            min_weight: \"\",\r\n            max_weight: \"\",\r\n            life_span: \"\",\r\n            image: \"\",\r\n            temperament: [],\r\n        });\r\n        setTemps([]);\r\n        history.push(\"/home\");\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1>Create Your Dog!</h1>\r\n                <form\r\n                    id='DoNotSubmit'\r\n                    onSubmit={(e) => handleSubmit(e)}\r\n                >\r\n                    <div>\r\n                        <label>Name: </label>\r\n                        <input\r\n                            key='name'\r\n                            placeholder='Enter a Name'\r\n                            type='text'\r\n                            name='name'\r\n                            value={input.name}\r\n                            onChange={(e) => handleChange(e)}\r\n                        />\r\n                        {errors.name && (\r\n                            <p>{errors.name}</p>\r\n                        )}\r\n                    </div>\r\n                    <div>\r\n                        <label>Height: </label>\r\n                        <input\r\n                            onChange={(e) => handleChange(e)}\r\n                            name='min_height'\r\n                            type='min_height'\r\n                            value={input.min_height}\r\n                            placeholder='Min height'\r\n                        />\r\n                        {errors.min_height && (\r\n                            <p>{errors.min_height}</p>\r\n                        )}\r\n                        <input\r\n                            onChange={(e) => handleChange(e)}\r\n                            name='max_height'\r\n                            type='max_height'\r\n                            value={input.max_height}\r\n                            placeholder='Max height'\r\n                        />\r\n                        {errors.max_height && (\r\n                            <p>{errors.max_height}</p>\r\n                        )}\r\n                    </div>\r\n                    <div>\r\n                        <label>Weight: </label>\r\n                        <input\r\n                            onChange={(e) => handleChange(e)}\r\n                            name='min_weight'\r\n                            type='min_weight'\r\n                            value={input.min_weight}\r\n                            placeholder='Min weight'\r\n                        />\r\n                        {errors.min_weight && (\r\n                            <p>{errors.min_weight}</p>\r\n                        )}\r\n                        <input\r\n                            onChange={(e) => handleChange(e)}\r\n                            name='max_weight'\r\n                            type='max_weight'\r\n                            value={input.max_weight}\r\n                            placeholder='Max weight'\r\n                        />\r\n                        {errors.max_weight && (\r\n                            <p>{errors.max_weight}</p>\r\n                        )}\r\n                    </div>\r\n                    <div>\r\n                        {\" \"}\r\n                        <label>Life Span: </label>\r\n                        <input\r\n                            placeholder='Life Span'\r\n                            type='text'\r\n                            name='life_span'\r\n                            value={input.life_span}\r\n                            onChange={(e) => handleChange(e)}\r\n                        />\r\n                        {errors.life_span && (\r\n                            <p>{errors.life_span}</p>\r\n                        )}\r\n                    </div>\r\n                    <div>\r\n                        <label>Image: </label>\r\n                        <input\r\n                            key='image'\r\n                            placeholder='Insert URL image'\r\n                            type='text'\r\n                            name='image'\r\n                            value={input.image}\r\n                            onChange={(e) => handleChange(e)}\r\n                        />\r\n                        {errors.image && <p>{errors.image}</p>}\r\n                    </div>\r\n                    <div>\r\n                        {\" \"}\r\n                        <label>Choose Temperaments: </label>\r\n                        <select\r\n                            name='temperament'\r\n                            onChange={(e) => handleSelect(e)}\r\n                            type='text'\r\n                        >\r\n                            <option value={null}></option>\r\n                            {temperaments.map((temp, id) => {\r\n\r\n                                return (\r\n                                    <option key={id} value={temp.name}>\r\n                                        {temp.name}\r\n                                    </option>\r\n                                );\r\n                            })}\r\n                        </select>\r\n                        {temps.map((temp, id) => {\r\n\r\n                            return (\r\n                                <React.Fragment key={id}>\r\n                                    <div>\r\n                                        {temp}\r\n                                        <button\r\n                                            value={temp}\r\n                                            onClick={(e) => handleDelete(e)}\r\n                                        >\r\n                                            x\r\n                                        </button>\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    <div>\r\n                        <button type='submit' name='submit'>\r\n                            Create Dog\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div>\r\n                <Link to='/home'>\r\n                    <button >Back </button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}